# 📦 在庫管理システム（ネットショップ向け）

## ■ 概要
本システムは、ネットショップの倉庫業務を想定した在庫管理アプリです。  
商品の「入荷」「発送」「在庫調整」を記録し、現在在庫と履歴を一元管理します。

在庫は直接変更するのではなく、  
履歴（stock_logs）を保存しながら在庫数（products.stock）を更新する設計です。

---

## ■ 一般ユーザー（スタッフ）の動き
※ 倉庫作業員を想定

### ① 会員登録・認証
- 会員登録（Fortify）
- ログイン / ログアウト
- FormRequestによるバリデーション・エラーメッセージ表示

### ② 在庫操作（メイン業務）
1. 商品一覧を確認（カード形式表示）
2. 入荷登録  
   - 倉庫に商品が届いたら数量を入力  
   - 在庫数を加算（type: inbound を履歴保存）
3. 発送完了登録  
   - 注文商品を出荷した際に数量を入力  
   - 在庫数を減算（type: outbound を履歴保存）
4. 入出荷履歴の自動保存  
   - 操作ユーザーID  
   - 日時  
   - 数量  
   - 理由（例：注文番号、入荷元）

※ 出庫数が在庫を超える場合はエラー「在庫が不足しています」

---

## ■ 管理者ユーザーの動き
※ ショップ管理者を想定

### ① 管理者認証
- 管理者ログイン（Fortify）
- ログアウト機能
- FormRequestによるバリデーション

### ② 商品マスタ管理
- 新規商品登録（商品名 / SKU / 価格 / カテゴリ / URL）
- 商品情報編集（価格・説明・カテゴリ等）
- SKU重複チェックあり

### ③ 在庫管理（管理機能）
- 在庫調整（棚卸し・破損・紛失対応）
  - 在庫を強制書き換え
  - 履歴は type: adjustment として保存

### ④ 履歴・分析
- 全在庫ログ一覧表示（誰が・いつ・何を・何個・なぜ）
- 月別CSV出力（入荷 / 発送 / 調整の全履歴）

---

## ■ システムの在庫ロジック（重要）
- 入荷：stock + 加算 ＋ inbound履歴保存  
- 発送：stock - 減算 ＋ outbound履歴保存  
- 調整：stock を直接修正 ＋ adjustment履歴保存  

すべての在庫変動は stock_logs に記録され、  
「誰が在庫を動かしたか」を追跡可能な設計とする。

---

## 使用技術

- PHP 8.4
- Laravel 12
- MySQL 8.0.26
- Laravel Fortify
- nginx:1.21.1
- PHPUnit
- GitHub
